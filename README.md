# 二合游戏 (Merge 2 Game)

一个基于Pygame开发的物品合并升级休闲游戏，类似2048但具有更丰富的道具系统和视觉效果。

## 游戏规则

- 游戏在一个6x6的网格上进行
- 点击两个相同类型、相同等级的道具可以将它们合并成更高等级的道具
- 合并后会获得分数，等级越高的道具获得的分数越多
- 游戏会自动生成新的道具补充到网格中
- 当无法进行任何合并且网格已满时，游戏结束
- 按R键可以重新开始游戏

## 项目结构

```
merge2/
├── assets/           # 游戏资源文件（图片、音效等）
├── source_pic/       # 原始图片资源
├── tools/            # 工具脚本
├── config.py         # 游戏配置文件
├── controller.py     # 游戏控制器
├── main.py           # 游戏入口
├── model.py          # 游戏模型
└── view.py           # 游戏视图
```

## 安装和运行

### 安装依赖

```bash
pip install pygame
```

### 运行游戏

```bash
python main.py
```

## 游戏特性

- **多种道具类型**：支持不同类型的道具，每种道具都有自己的等级上限
- **智能生成**：根据游戏状态智能生成新道具，保持游戏的可玩性
- **视觉提示**：相同等级的道具会显示相同颜色的提示，方便玩家识别
- **平滑动画**：使用Pygame实现流畅的游戏界面和交互效果
- **分数系统**：通过合并道具获得分数，等级越高分数越多
- **游戏重置**：支持随时重置游戏重新开始

## 配置说明

可以通过修改`config.py`文件来自定义游戏参数：

- **网格大小**：调整`ROWS`和`COLS`来改变游戏网格尺寸
- **方块大小**：修改`TILE_SIZE`和`MARGIN`来调整方块显示大小
- **颜色配置**：自定义不同等级方块的颜色
- **等级名称**：设置不同等级的显示名称
- **道具最高等级**：通过`ITEM_MAX_LEVELS`配置每种道具的最高等级

## 开发说明

### 游戏架构

本项目采用MVC架构：

- **Model** (`model.py`)：负责游戏逻辑和数据管理
- **View** (`view.py`)：负责游戏界面渲染
- **Controller** (`controller.py`)：处理用户输入和游戏流程控制

### 扩展道具

要添加新的道具类型：

1. 在`assets`目录下添加道具图片，命名格式为`item{id}_{level}.png`
2. 游戏会自动识别新道具并加载

### 开发工具

项目包含一些工具脚本，方便开发：

- `tools/crop.py`：图片裁剪工具
- `tools/cropper.py`：批量图片裁剪工具

## 游戏截图

游戏界面包含：
- 6x6的游戏网格
- 分数显示区域
- 游戏操作提示
- 可合并道具的视觉提示

## 操作说明

- **鼠标左键**：点击选择道具，选择两个相同的道具进行合并
- **R键**：重新开始游戏
- **ESC键**：退出游戏

## 技术栈

- Python 3.x
- Pygame

## 许可证

MIT License
